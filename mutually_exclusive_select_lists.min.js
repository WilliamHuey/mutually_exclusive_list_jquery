(function(a){a.fn.onlyBeOne=function(b){function t(b){var c=0;for(var d=0;d<a(e).length;d++){var f=a.trim(a(e).eq(d).find("option:selected").text());if(f===b){c=d+1}}return c}function u(a,b){for(var c=0;c<k.length;c++){for(var d=0;d<k[c][2].length;d++){if(a==k[c][2][d]&&b==k[c][0]){var e=k[c][3][d]}}}return e}function v(b,c){var d=b.find("option");d.each(function(){var b=a.trim(a(this).text());if(c==b){a(this).remove()}})}function w(b,c){for(var d=1;d<f+1;d++){if(c!==d){a(e).eq(d-1).each(function(){$siblingList=a(this);var c=a(this).find("option");var e=k[d-1][2].indexOf(b);var f=[];var g=-1;c.each(function(){function i(a){if(a==""){var b="<option>"}else{b="<option value="+a+">"}return b}g+=1;var f=a.trim(a(this).text());var h=k[d-1][2].indexOf(f);if(c.eq(1).text()==f&&e<h){var j=k[d-1][3][h-1];var l=i(j);a(this).before(l+b+"</option>")}if(c.eq(g).text()!==""&&g-1>0){var m=k[d-1][2].indexOf(c.eq(g-1).text());if(m<e&&e<h){var j=k[d-1][3][h-1];var l=i(j);a(this).before(l+b+"</option>")}}if(c.eq(c.length-1).text()==f&&h<e){var j=k[d-1][3][h+1];var l=i(j);a(this).after(l+b+"</option>")}})})}}}function x(b,c,d){for(var f=0;f<c.length;f++){if(f+1!==d){a(e).eq(f).find("option").filter(function(){if(a(this).text()==b[f]){a(this).prop("selected",true)}})}}}function y(){var b=[];for(var c=0;c<a(e).length;c++){b.push(a.trim(a(e).eq(c).find("option:selected").text()))}return b}var c=this.get(0).tagName.toLowerCase();var d=this.attr("class");var e=c+"."+d;a(e).prop("selectedIndex",0);var f=this.length;var g=a(e).first().find("option").length;var h;var i=[];var j=[];var k=[];var l=[];var m=[];for(var n=0;n<g;n++){m.push(n)}for(var n=0;n<f*g;n++){var o=a(e+" option:eq("+n+")");var p="";if(!a(e+" option:eq("+n+")").is("[value]")){p=""}else{p=o.val()}var q=o.text();i.push(p);j.push(q);if(n%g==g-1&&n!=0){var r=[];var s=(n+1)/g;r.push(s);r.push(j);r.push(i);k.push(r);i=[];j=[]}}for(var n=0;n<k.length;n++){k[n].splice(1,0,m)}var z=y();a(e).change(function(){var b=z;var c=a(this).siblings("select");var d=a("option:selected",this);var e=a.trim(d.text());var f=t(e);var g=u(e,f);z=y();var h=0;var i=0;for(var j=0;j<z.length;j++){if(b[j]!==z[j]){h=j+1;i=b[j]}}f=h;if(e.length!==0){c.each(function(){var b=a(this);v(b,e)});if(i.length!==0){w(i,f)}}else{w(i,f)}x(b,z,f)});return a(this)}})(jQuery)